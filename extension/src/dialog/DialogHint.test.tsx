import { beforeEach, describe, expect, it, test } from "vitest";
import { render } from '@solidjs/testing-library';
import DialogHint, { DialogStore } from "./DialogHint";
import { createStore } from "solid-js/store";
import '../style.css';

describe('DialogHint', async () => {
    const [dialogStore, setDialogStore] = createStore<DialogStore>({
        pos: { top: 0, left: 0, width: 0, height: 0 },
        link: '',
        show: false,
        state: 'loading',
        onCancel: () => { setDialogStore('show', false); }
    }); 
    
    it('is hidden', async () => {
        const { queryByRole } = render(() => <DialogHint id='test-dialog' store={dialogStore} />);
        expect(queryByRole('dialog')).toBeNull();
    });

    it('is shown', async () => {
        setDialogStore('show', true);
        const { queryByRole } = render(() => <DialogHint id='test-dialog' store={dialogStore} />);
        expect(queryByRole('dialog')).not.toBeNull();
    });

    describe('link', async () => {
        beforeEach(() => {
            setDialogStore('show', true);
        });

        test('expandable long link', async () => {
            const html: HTMLHtmlElement | any = document.querySelector('html');
            const longLink = 'http://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWIhttp://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWIhttp://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWIhttp://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWIhttp://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWILLLLLhttp://www.reallylong.link/rll/F_FhC3h_yn2uv24ar_pVyPx8NlDqxkn9QmSRrjYySRz82fOOU3fHmTJqhAiA2yVGzGJpxgffEkc3hK_BrOEbWW8aI6iRx/bu69NWFQztGXpWPXKnzPDr8mVdg3AgqQqVJP24jzB7gKu8_JZT3iD0XD7lRoOQTsp5GeKHBEqo3b/LHCSwZ7_C6Vm4c2jC/SjwbAUs0QN9/yWXVY8RgOLU3rT4BDWTtTgfmHUuZCXHhRB8lJbi1F28GykQ7FuQr/GPJhvfKlR5uQKxNQXoNLO_vS7eSTKxW3s99pj6Yy2coROmRKSn1uxAk1KI9pG7bqafUZZ2wyiFagNhxJq7Tfh/WFNbnpTsRyxtpz2nMHe_tVgcCMhkcPrh8lnkWd1dcORyj0OAESaiGimX7iwAcH4Hiq6Zf2Lr_QFWXNhRk7fHjFCi6gdI0swO5k9u3HI37KJDLjycLXrsX1SmO/pWxmYk_odX2RhUAN9a0HumHIO8osYLiHOThTTdXiPy0mMqATYdEdspIRhB9WlhTo_WMn2yoZg9VfRadMFZttGGK9zTOGzDGdJSGB_1ncDn7mLbZ9oi2cfSQHImh8BsXapJS5740/2ayNHNmnqH9pct1M9lHHwPq5CQbIdLl9QsXe7VIZV9FRrE1HOk4sTASjuS2MirLDtXqynl2od44YmRozic5TCFxP0AYZbjvEI751larymhw9dyO6Lllz3E7x9GkHq2frUejp8EGaKCzslRnWUsWCL52hlWYgYmYGfEjZjTwvOQOUJb/Q0HflGry4flSp4t4jnj_fDxGGPoOW/oyn47gfT7bRWRL7AeQdJJMBYcyXyI2VAib4UI84Gg/xzLah_PlWkNlQEZWfwHA1H66Z3vF6bTriatwWpfMA31wGCYnC6dqqTJWi_UJkVYm0ej4kp1cLGIbMH2ey_iUV6rz8thcz6GEWSDgxWcLR2IGBUjzOHZY3KgRaOitg0gg0q7QwQcGvpfYIRpaYj1lC_GCVhON/eUOaWaJv3DBDYdYpxXVX3FpgT9l79ETygwj0vy1sWDTt1LQAWH6TWU/5ZIsANq8NZy1tUU_M42krc924Sl5Bm8L1XMdHV5l8UIVITLqGlu8gK59viNZO0ay2/vqwNea26ylMt8quSWX8224USJ8Mkr4e3NgVSJ5HRdThlVXkFHjPccXZIr7SAQqNVJ1znXKF5PrfZT2pDxkvS3r8l/mrOqxtvAsfLSRnhEHthjjDKe0rZ6A9lij9QgEzOULVcm80h7zmG7n61iL27vHjUIrd04j1043rc1aano5CJMrFpvLdj4fk7YYytZmLaJJAGpQ1_OTM/KYolmjB7MggQebD3c/w32nBIMuL3MVR9jAevmlSdTODsOkZqwdf1LEcItTLW4JGnJ5vpCtNsclIeN6omNKGlQnWt6B1gvFtVTOI1Nej85U5QzKtGpeDt5VVaFNSNZ2twOy3MDHBJKcC48H06asgrO7rpRf4VLN7vk483XbVpb3LbAigf3s15GNF5oD2PUswGYk_OC3dIY6Cli9tAFiPkT9Lc55zd1GS5CH_2oHwp1kch6SdOo5ff7G7gWra5TqQ1bx1jheTNO1FYYObcdIk_o_v45Qx8e47v8rTHe2ooDJCUoKwM43b_G6_y6l0iJ5Nv9W7EmkFTqvX6nRjOtSTkdsyPAFmyw4cXo9IOWsIJUHrkJrSqEpyNJ0xBE86E/f9u9Fk4mA42EgzKZvGuLHZFRQZNvPGgz3CQ/0Klve8qVrm4FQgqVhL_6jkdxCSY7g4iTknQMobv003j5sSiJuDvaVDID84sN/e/zXK6jqgWIBPmkS066lAtC38_ES8bhAt3Xpqve88XYOmI9c/CKsftt1zR4oer4R3OPvCjIEnE6_v5YAvZjhWZa7CwolMigY29sJOAIzaz_0PJs0EUdw55CQ0ox6dICu1quEq9iAS6G4mvS1ioja_7PsPmN5ixWWIL';
            setDialogStore('link',  longLink);

            const { queryByText } = render(() => <DialogHint id='test-dialog' store={dialogStore} />, html);
            expect(queryByText('Expand link')).toBeVisible();
        });

        test('non-expandable short link', async () => {
            const link = 'https://github.com';
            setDialogStore('link',  link);

            const { queryByText } = render(() => <DialogHint id='test-dialog' store={dialogStore} />);
            expect(queryByText('Expand link')).not.toBeVisible();
            expect(queryByText(link)).not.toBeNull();
        });
    });
});

