from ollama import chat
from pydantic import BaseModel

class Output(BaseModel):
  url: str
  is_phishing_link: bool
  description: str

response = chat(
  messages=[
    {
      'role': 'user',
      'content': "Show me concisely if this link is a phishing link and what made this a phishing link in detail. link: https://xn--pypl-53dc.com/",
    }
  ],
  model='llama3.1',
  format=Output.model_json_schema(),
)

result = Output.model_validate_json(response.message.content)
print(result.model_dump_json())